<!-- sidebar -->
<app-user-sidenav></app-user-sidenav>

<div class="container">
    <table class="table">
        <thead>
            <tr>
                <th colspan="2">Profile Details
                    <button class="btn edit" (click)="onUpdateModal(user)" data-target="#updateModal" data-toggle="modal"><span class="material-icons">edit</span></button>
                </th>
            </tr>
        </thead>
        <tbody>
            <br>
            <tr>
                <p>Username</p>
                <p>{{user.username}}</p>
            </tr><br>
            <tr>
                <p>Email</p>
                <p>{{user.email}}</p>
            </tr><br>
            <tr>
                <p>Password</p>
                <p>********</p>
            </tr>
            <br>
        </tbody>
    </table>
</div>
<!-- Update Modal -->
<div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updateModalLabel">Update Profile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span style="color:black;" aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="updateAccountForm">
                    <input class="form-control mt-3" placeholder="Username" formControlName="username">
                    <label class="text-danger" *ngIf="updateAccountForm.get('username').touched && updateAccountForm.get('username').errors?.required">This
                        field is mandatory.</label>
                    <input class="form-control mt-3" placeholder="Email" formControlName="email">
                    <label class="text-danger" *ngIf="updateAccountForm.get('email').touched && updateAccountForm.get('email').errors?.email">Invalid email.</label>
                    <input type="password" class="form-control mt-3" placeholder="Password" formControlName="password">
                    <label class="text-danger" *ngIf="updateAccountForm.get('password').touched && updateAccountForm.get('password').errors?.required">This
                        field is mandatory.</label>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary" data-dismiss="modal" (click)="updateAccount()" [disabled]="!updateAccountForm.valid">Save Changes</button>
            </div>
        </div>
    </div>
</div>